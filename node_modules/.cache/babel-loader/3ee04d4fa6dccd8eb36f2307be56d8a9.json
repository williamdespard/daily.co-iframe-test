{"ast":null,"code":"var _jsxFileName = \"/Users/williamdespard/Desktop/Embryo/code/tests/daily.co-iframe-test/src/Participant.js\";\nimport React, { useRef, useEffect } from \"react\";\n\nfunction Participant(props) {\n  const videoEl = useRef({});\n  const audioEl = useRef({});\n  useEffect(() => {\n    if (props.videoTrack) {\n      // check if there is any element for current, they are getting removed between pages somehow\n      if (!videoEl.current) {\n        videoEl.current = {};\n      }\n\n      videoEl.current.srcObject = new MediaStream([props.videoTrack]);\n    }\n  }, [props.videoTrack, props.screenVideoTrack]);\n  useEffect(() => {\n    if (props.audioTrack) {\n      // check if there is any element for current, they are getting removed between pages somehow\n      if (!audioEl.current) {\n        audioEl.current = {};\n      }\n\n      audioEl.current.srcObject = new MediaStream([props.audioTrack]);\n    }\n  }, [props.audioTrack]);\n\n  function videoComponent() {\n    return props.videoTrack && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"video\", {\n      className: \"video h-full absolute top-0 left-50pc translate-x-50pc\" // Video class needed for some reason\n      ,\n      autoPlay: true,\n      muted: true,\n      playsInline: true,\n      ref: videoEl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }));\n  } // Render audio\n\n\n  function audioComponent() {\n    return props.audioTrack && /*#__PURE__*/React.createElement(\"audio\", {\n      autoPlay: true,\n      playsInline: true,\n      ref: audioEl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 32\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, videoComponent(), !props.isLocal && audioComponent());\n}\n\nexport default Participant;","map":{"version":3,"sources":["/Users/williamdespard/Desktop/Embryo/code/tests/daily.co-iframe-test/src/Participant.js"],"names":["React","useRef","useEffect","Participant","props","videoEl","audioEl","videoTrack","current","srcObject","MediaStream","screenVideoTrack","audioTrack","videoComponent","audioComponent","isLocal"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,QAAMC,OAAO,GAAGJ,MAAM,CAAC,EAAD,CAAtB;AACA,QAAMK,OAAO,GAAGL,MAAM,CAAC,EAAD,CAAtB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIE,KAAK,CAACG,UAAV,EAAsB;AACpB;AACA,UAAI,CAACF,OAAO,CAACG,OAAb,EAAsB;AACpBH,QAAAA,OAAO,CAACG,OAAR,GAAkB,EAAlB;AACD;;AACDH,MAAAA,OAAO,CAACG,OAAR,CAAgBC,SAAhB,GAA4B,IAAIC,WAAJ,CAAgB,CAACN,KAAK,CAACG,UAAP,CAAhB,CAA5B;AACD;AACF,GARQ,EAQN,CAACH,KAAK,CAACG,UAAP,EAAmBH,KAAK,CAACO,gBAAzB,CARM,CAAT;AAUAT,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIE,KAAK,CAACQ,UAAV,EAAsB;AACpB;AACA,UAAI,CAACN,OAAO,CAACE,OAAb,EAAsB;AACpBF,QAAAA,OAAO,CAACE,OAAR,GAAkB,EAAlB;AACD;;AACDF,MAAAA,OAAO,CAACE,OAAR,CAAgBC,SAAhB,GAA4B,IAAIC,WAAJ,CAAgB,CAACN,KAAK,CAACQ,UAAP,CAAhB,CAA5B;AACD;AACF,GARQ,EAQN,CAACR,KAAK,CAACQ,UAAP,CARM,CAAT;;AAUA,WAASC,cAAT,GAA0B;AACxB,WACET,KAAK,CAACG,UAAN,iBACE,uDACE;AACE,MAAA,SAAS,EAAC,wDADZ,CACqE;AADrE;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,KAAK,MAHP;AAIE,MAAA,WAAW,MAJb;AAKE,MAAA,GAAG,EAAEF,OALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFJ;AAaD,GAtCyB,CAwC1B;;;AACA,WAASS,cAAT,GAA0B;AACxB,WAAOV,KAAK,CAACQ,UAAN,iBAAoB;AAAO,MAAA,QAAQ,MAAf;AAAgB,MAAA,WAAW,MAA3B;AAA4B,MAAA,GAAG,EAAEN,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3B;AACD;;AACD,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGO,cAAc,EADjB,EAEG,CAACT,KAAK,CAACW,OAAP,IAAkBD,cAAc,EAFnC,CADF;AAMD;;AAED,eAAeX,WAAf","sourcesContent":["import React, { useRef, useEffect } from \"react\";\n\nfunction Participant(props) {\n  const videoEl = useRef({});\n  const audioEl = useRef({});\n\n  useEffect(() => {\n    if (props.videoTrack) {\n      // check if there is any element for current, they are getting removed between pages somehow\n      if (!videoEl.current) {\n        videoEl.current = {};\n      }\n      videoEl.current.srcObject = new MediaStream([props.videoTrack]);\n    }\n  }, [props.videoTrack, props.screenVideoTrack]);\n\n  useEffect(() => {\n    if (props.audioTrack) {\n      // check if there is any element for current, they are getting removed between pages somehow\n      if (!audioEl.current) {\n        audioEl.current = {};\n      }\n      audioEl.current.srcObject = new MediaStream([props.audioTrack]);\n    }\n  }, [props.audioTrack]);\n\n  function videoComponent() {\n    return (\n      props.videoTrack && (\n        <>\n          <video\n            className=\"video h-full absolute top-0 left-50pc translate-x-50pc\" // Video class needed for some reason\n            autoPlay\n            muted\n            playsInline\n            ref={videoEl}\n          />\n        </>\n      )\n    );\n  }\n\n  // Render audio\n  function audioComponent() {\n    return props.audioTrack && <audio autoPlay playsInline ref={audioEl} />;\n  }\n  return (\n    <div>\n      {videoComponent()}\n      {!props.isLocal && audioComponent()}\n    </div>\n  );\n}\n\nexport default Participant;\n"]},"metadata":{},"sourceType":"module"}